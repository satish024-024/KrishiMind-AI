<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KrishiMind AI ‚Äî Smart Agriculture Assistant</title>
    <meta name="description" content="AI-powered agricultural advisor for Indian farmers">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-logo">
            <div class="logo-icon">üåæ</div>
            <div>
                <h1 class="logo-text">KrishiMind AI</h1>
                <p class="logo-sub">Powered by IBM Watsonx</p>
            </div>
        </div>
        <nav class="nav">
            <a href="#" class="nav-item active" data-page="dashboard" onclick="navigate('dashboard',this)">
                <span>üìä</span> Dashboard</a>
            <a href="#" class="nav-item" data-page="chat" onclick="navigate('chat',this)">
                <span>ü§ñ</span> Ask AI
                <span class="nav-badge"><span class="pulse-dot"></span> Online</span></a>
            <a href="#" class="nav-item" data-page="weather" onclick="navigate('weather',this)">
                <span>üå§Ô∏è</span> Weather</a>
            <a href="#" class="nav-item" data-page="market" onclick="navigate('market',this)">
                <span>üí∞</span> Market Prices</a>
            <a href="#" class="nav-item" data-page="crops" onclick="navigate('crops',this)">
                <span>üå±</span> Crop Guide</a>
            <a href="#" class="nav-item" data-page="pests" onclick="navigate('pests',this)">
                <span>üêõ</span> Pest Solutions</a>
        </nav>
        <div class="sidebar-bottom">
            <div class="lang-select">
                <span>üåê</span>
                <select id="langSelect">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                </select>
            </div>
            <div class="user-info">
                <div class="user-avatar">üë§</div>
                <div>
                    <p class="user-name">Farmer</p>
                    <p class="user-role">KrishiMind User</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
        <!-- Header -->
        <header class="header">
            <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
            <div class="search-wrap">
                <span class="search-icon">üîç</span>
                <input id="globalSearch" type="text" placeholder="Ask anything about farming..."
                    onkeydown="if(event.key==='Enter'){navigate('chat');askFromGlobal(this.value);this.value=''}">
            </div>
            <button onclick="askFromGlobal(document.getElementById('globalSearch').value)" class="ask-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                </svg> Ask
            </button>
            <button onclick="toggleOnline()" id="modeBtn" class="mode-btn online">
                <span id="modeDot" class="mode-dot"></span>
                <span id="modeText">Online</span>
            </button>
        </header>

        <!-- Pages Container -->
        <div class="pages">
            <!-- PAGE: Dashboard (Bento Grid) -->
            <section id="page-dashboard" class="page active">
                <div class="page-pad">
                    <!-- ROW 1: Hero Banner -->
                    <div class="hero-banner" id="heroBanner">
                        <div class="hero-content">
                            <p class="hero-greeting" id="heroGreeting">Good Evening</p>
                            <h2 class="hero-title">Welcome back, Farmer! üëã</h2>
                            <p class="hero-sub" id="heroSub">Loading farm overview...</p>
                        </div>
                        <div class="hero-right">
                            <div class="hero-date" id="heroDate"></div>
                            <div class="hero-weather-mini" id="heroWeatherMini">
                                <span class="hero-temp" id="heroTemp">--¬∞</span>
                                <span class="hero-wicon" id="heroWicon">üå§Ô∏è</span>
                            </div>
                        </div>
                        <div class="hero-pattern"></div>
                    </div>

                    <!-- ROW 2: Bento Grid -->
                    <div class="bento-grid">
                        <!-- Wheat Price (with sparkline) -->
                        <div class="bento-card bento-wheat" onclick="navigate('market')" style="--delay:0">
                            <div class="stat-top"><span class="stat-label">Wheat Price</span><span
                                    class="stat-icon bg-amber">üåæ</span></div>
                            <p class="stat-val" id="dashWheatPrice">‚Çπ2,450<span class="stat-unit">/qt</span></p>
                            <p class="stat-delta up" id="dashWheatDelta">‚Üë 3.2%</p>
                            <canvas id="wheatSparkline" class="sparkline-canvas" width="160" height="36"></canvas>
                        </div>

                        <!-- Weather (with mini forecast) -->
                        <div class="bento-card bento-weather" onclick="navigate('weather')" style="--delay:1">
                            <div class="stat-top"><span class="stat-label">Weather</span><span
                                    class="stat-icon bg-blue">üå§Ô∏è</span></div>
                            <p class="stat-val" id="dashTemp">--¬∞C</p>
                            <p class="stat-delta" id="dashWeatherDesc">Loading...</p>
                            <div class="mini-forecast" id="miniForecast"></div>
                        </div>

                        <!-- Soil Health (merged gauge) -->
                        <div class="bento-card bento-soil" style="--delay:2">
                            <div class="stat-top"><span class="stat-label">Soil Health</span><span
                                    class="stat-icon bg-green">üß™</span></div>
                            <div class="gauge-wrap">
                                <svg class="gauge-ring" viewBox="0 0 80 80">
                                    <circle cx="40" cy="40" r="34" fill="none" stroke="#e5e7eb" stroke-width="6" />
                                    <circle id="soilGaugeCircle" cx="40" cy="40" r="34" fill="none" stroke="#22c55e"
                                        stroke-width="6" stroke-linecap="round" stroke-dasharray="213.6"
                                        stroke-dashoffset="213.6" transform="rotate(-90 40 40)"
                                        style="transition:stroke-dashoffset 1.5s ease" />
                                </svg>
                                <div class="gauge-center">
                                    <span class="gauge-val" id="dashSoilVal">--</span>
                                    <span class="gauge-label">Moisture</span>
                                </div>
                            </div>
                            <p class="stat-delta" id="dashSoilStatus">Loading...</p>
                        </div>

                        <!-- AI Daily Tip (tall anchor card) -->
                        <div class="bento-card bento-aitip" style="--delay:3" id="aiTipCard">
                            <div class="aitip-glow"></div>
                            <div class="aitip-header">
                                <span class="aitip-icon">ü§ñ</span>
                                <div>
                                    <p class="aitip-title">AI Daily Tip</p>
                                    <p class="aitip-sub">Powered by KrishiMind AI</p>
                                </div>
                            </div>
                            <div class="aitip-body" id="aiTipBody">
                                <div class="skeleton" style="height:14px;width:90%;border-radius:6px;margin-bottom:8px">
                                </div>
                                <div class="skeleton" style="height:14px;width:75%;border-radius:6px;margin-bottom:8px">
                                </div>
                                <div class="skeleton" style="height:14px;width:60%;border-radius:6px"></div>
                            </div>
                            <button class="aitip-ask"
                                onclick="navigate('chat');setTimeout(()=>askQuestion('Give me a farming tip for today based on current weather and season'),300)">
                                Ask more ‚Üí
                            </button>
                        </div>

                        <!-- 7-Day Temperature Chart -->
                        <div class="bento-card bento-chart" style="--delay:4">
                            <div class="stat-top"><span class="stat-label">üìà 7-Day Temperature</span></div>
                            <canvas id="tempChart" class="temp-chart-canvas"></canvas>
                        </div>

                        <!-- Market Ticker -->
                        <div class="bento-card bento-ticker" style="--delay:5">
                            <div class="stat-top"><span class="stat-label">üí∞ Market Prices ‚Äî Top Crops</span>
                                <a href="#" onclick="event.preventDefault();navigate('market')" class="ticker-link">View
                                    all ‚Üí</a>
                            </div>
                            <div class="ticker-scroll" id="tickerScroll">
                                <div class="skeleton" style="height:56px;width:140px;border-radius:12px;flex-shrink:0">
                                </div>
                                <div class="skeleton" style="height:56px;width:140px;border-radius:12px;flex-shrink:0">
                                </div>
                                <div class="skeleton" style="height:56px;width:140px;border-radius:12px;flex-shrink:0">
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="bento-card bento-actions" style="--delay:6">
                            <p class="bento-section-head">‚ö° Quick Actions</p>
                            <div class="quick-grid">
                                <button class="quick-card"
                                    onclick="navigate('chat');setTimeout(()=>askQuestion('What crops should I plant this season?'),300)">
                                    <span class="quick-icon">üå±</span>
                                    <div><strong>Crop Advice</strong><small>AI recommendation</small></div>
                                </button>
                                <button class="quick-card"
                                    onclick="navigate('chat');setTimeout(()=>askQuestion('How to control pests in my farm?'),300)">
                                    <span class="quick-icon">üêõ</span>
                                    <div><strong>Pest Check</strong><small>Identify & treat</small></div>
                                </button>
                                <button class="quick-card" onclick="navigate('weather')">
                                    <span class="quick-icon">üåßÔ∏è</span>
                                    <div><strong>Weather</strong><small>7-day forecast</small></div>
                                </button>
                                <button class="quick-card" onclick="navigate('market')">
                                    <span class="quick-icon">üìà</span>
                                    <div><strong>Market</strong><small>Live mandi rates</small></div>
                                </button>
                            </div>
                        </div>

                        <!-- Crop Calendar -->
                        <div class="bento-card bento-calendar" style="--delay:7">
                            <p class="bento-section-head">üóìÔ∏è Crop Calendar ‚Äî <span id="calSeasonName">Rabi
                                    Season</span></p>
                            <div class="calendar-timeline" id="cropCalendar"></div>
                        </div>

                        <!-- Popular Questions -->
                        <div class="bento-card bento-popular" style="--delay:8">
                            <p class="bento-section-head">üî• Popular Questions</p>
                            <div id="dashPopular" class="popular-grid"></div>
                        </div>

                        <!-- Activity Feed -->
                        <div class="bento-card bento-feed" style="--delay:9">
                            <p class="bento-section-head">üìù Activity Feed</p>
                            <div id="activityFeed" class="activity-feed">
                                <div class="feed-item feed-system"><span class="feed-dot dot-green"></span>
                                    <div>
                                        <p>System online ‚Äî FAISS index loaded</p><small>Just now</small>
                                    </div>
                                </div>
                                <div class="feed-item feed-system"><span class="feed-dot dot-blue"></span>
                                    <div>
                                        <p>AI service connected (Gemini)</p><small>Just now</small>
                                    </div>
                                </div>
                                <div class="feed-item feed-system"><span class="feed-dot dot-amber"></span>
                                    <div>
                                        <p>Weather data synced</p><small>Just now</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PAGE: Chat -->
            <section id="page-chat" class="page">
                <div class="chat-container">
                    <div id="chatArea" class="chat-area">
                        <div class="chat-welcome">
                            <div class="cw-icon">üåæ</div>
                            <h2>Welcome to KrishiMind AI</h2>
                            <p>Ask any farming question ‚Äî crop advice, pest control, weather, market prices</p>
                        </div>
                    </div>
                    <div class="chat-input-bar">
                        <input id="chatInput" type="text" placeholder="Type your farming question..."
                            onkeydown="if(event.key==='Enter')sendChat()">
                        <button onclick="sendChat()" class="chat-send">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                            </svg>
                        </button>
                    </div>
                </div>
                <!-- Right Panel -->
                <aside class="right-panel">
                    <h3 class="rp-title">üî• Popular Questions</h3>
                    <div id="popularQuestions"></div>
                    <hr class="rp-hr">
                    <h3 class="rp-title">üïê Recent History</h3>
                    <div id="historyList">
                        <p class="rp-empty">No queries yet</p>
                    </div>
                </aside>
            </section>

            <!-- PAGE: Weather -->
            <section id="page-weather" class="page">
                <div class="page-pad">
                    <h2 class="page-title">üå§Ô∏è Weather Forecast</h2>
                    <p class="page-sub">Real-time weather data for your region</p>
                    <div class="weather-location">
                        <span>üìç Location:</span>
                        <select id="weatherCity" onchange="loadWeather()">
                            <option value="28.6139,77.2090">Delhi</option>
                            <option value="19.0760,72.8777">Mumbai</option>
                            <option value="26.9124,75.7873">Jaipur</option>
                            <option value="25.3176,82.9739">Varanasi</option>
                            <option value="30.7333,76.7794">Chandigarh</option>
                            <option value="23.2599,77.4126">Bhopal</option>
                            <option value="12.9716,77.5946">Bangalore</option>
                            <option value="13.0827,80.2707">Chennai</option>
                        </select>
                    </div>
                    <div class="weather-current" id="weatherCurrent">
                        <div class="skeleton" style="height:180px;border-radius:20px"></div>
                    </div>
                    <h3 class="section-title">üìÖ 7-Day Forecast</h3>
                    <div class="forecast-grid" id="forecastGrid">
                        <div class="skeleton" style="height:120px;border-radius:16px"></div>
                        <div class="skeleton" style="height:120px;border-radius:16px"></div>
                        <div class="skeleton" style="height:120px;border-radius:16px"></div>
                    </div>
                </div>
            </section>

            <!-- PAGE: Market -->
            <section id="page-market" class="page">
                <div class="page-pad">
                    <h2 class="page-title">üí∞ Market Prices</h2>
                    <p class="page-sub">Live mandi rates from across India</p>
                    <div class="market-grid" id="marketGrid">
                        <div class="skeleton" style="height:100px;border-radius:16px"></div>
                        <div class="skeleton" style="height:100px;border-radius:16px"></div>
                        <div class="skeleton" style="height:100px;border-radius:16px"></div>
                    </div>
                </div>
            </section>

            <!-- PAGE: Crops -->
            <section id="page-crops" class="page">
                <div class="page-pad">
                    <h2 class="page-title">üå± Crop Guide</h2>
                    <p class="page-sub">Complete growing guide for major Indian crops</p>
                    <div class="crops-grid" id="cropsGrid">
                        <div class="skeleton" style="height:200px;border-radius:16px"></div>
                        <div class="skeleton" style="height:200px;border-radius:16px"></div>
                    </div>
                </div>
            </section>

            <!-- PAGE: Pests -->
            <section id="page-pests" class="page">
                <div class="page-pad">
                    <h2 class="page-title">üêõ Pest Solutions</h2>
                    <p class="page-sub">Identify and treat common crop pests and diseases</p>
                    <div class="pests-grid" id="pestsGrid">
                        <div class="skeleton" style="height:200px;border-radius:16px"></div>
                        <div class="skeleton" style="height:200px;border-radius:16px"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script src="app.js"></script>
</body>

</html>